# Application
quarkus.application.name=stockflow-backend

# Database
# Use environment variables for sensitive data or local development
quarkus.datasource.db-kind=postgresql
%dev.quarkus.datasource.username=${POSTGRES_USER:your_user}
%dev.quarkus.datasource.password=${POSTGRES_PASSWORD:your_password}
%dev.quarkus.datasource.jdbc.url=jdbc:postgresql://${POSTGRES_HOST:localhost}:${POSTGRES_PORT:5432}/${POSTGRES_DB:stockflow}
%prod.quarkus.datasource.username=${POSTGRES_USER:your_user}
%prod.quarkus.datasource.password=${POSTGRES_PASSWORD:your_password}
%prod.quarkus.datasource.jdbc.url=jdbc:postgresql://${POSTGRES_HOST:localhost}:${POSTGRES_PORT:5432}/${POSTGRES_DB:stockflow}

# Hibernate
%dev.quarkus.hibernate-orm.database.generation=drop-and-create
%test.quarkus.hibernate-orm.database.generation=drop-and-create
%prod.quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=false

# JWT
mp.jwt.verify.publickey.location=publicKey.pem
mp.jwt.verify.issuer=stockflow
smallrye.jwt.sign.key.location=privateKey.pem
smallrye.jwt.new-token.lifespan=${JWT_ACCESS_EXPIRATION:900}
smallrye.jwt.refresh-token.lifespan=${JWT_REFRESH_EXPIRATION:604800}
smallrye.jwt.new-token.issuer=stockflow

# CORS
quarkus.http.cors=true
quarkus.http.cors.origins=${CORS_ORIGIN:http://localhost:5173}
quarkus.http.cors.methods=GET,POST,PUT,DELETE,PATCH,OPTIONS
quarkus.http.cors.headers=Content-Type,Authorization,Accept
quarkus.http.cors.exposed-headers=Set-Cookie
quarkus.http.cors.access-control-allow-credentials=true

# OpenAPI / Swagger
quarkus.smallrye-openapi.info-title=StockFlow API
quarkus.smallrye-openapi.info-version=1.0.0
quarkus.smallrye-openapi.info-description=Manufacturing Production Planner API
quarkus.swagger-ui.always-include=true

# HTTP
quarkus.http.port=${QUARKUS_HTTP_PORT:8080}

# Logging
quarkus.log.console.enable=true
quarkus.log.console.level=INFO
quarkus.log.category."com.duckstock".level=DEBUG

# Dev bootstrap (NEVER runs in production)
# When enabled and running with profile dev, it will create a default ADMIN user
# and run the database seed on startup.
%dev.duckstock.dev-bootstrap.enabled=${DEV_BOOTSTRAP_ENABLED:false}
%dev.duckstock.dev-bootstrap.admin.email=${DEV_BOOTSTRAP_ADMIN_EMAIL:test@gmail.com}
%dev.duckstock.dev-bootstrap.admin.password=${DEV_BOOTSTRAP_ADMIN_PASSWORD:123456}
